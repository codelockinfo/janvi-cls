{{ 'vertical-slide.css' | asset_url | stylesheet_tag }}

{%- style -%}
    .vertical-scroll-section-{{ section.id }}-padding {
        padding-top: {{ section.settings.padding_top }}px;
        padding-bottom: {{ section.settings.padding_bottom }}px; 
    }

    @media screen and (max-width: 750px){
        .vertical-scroll-section-{{ section.id }}-padding {
            padding-top: {{ section.settings.padding_top }}px;
            padding-bottom: {{ section.settings.padding_bottom }}px; 
        }
    }
{%- endstyle -%}

<div class="swiper MySwiper">
    <div class="swiper-wrapper">
        {% for block in section.blocks %}
            <div class="swiper-slide">
                <div class="vertical-scroll-section-{{ section.id }}-padding 
                    gradient color-{{ section.settings.color_scheme }}">
                    <div class="page-width">
                        <div class="vertical-scroll">
                            <div class="vertical-scroll__grid grid grid--gapless">
                                <div class="vertical-scroll-media-item grid-item">
                                    <div class="vertical-scroll-media
                                        vertical-scroll-media--{{ block.settings.height }}">
                                        {% if block.settings.image != blank %}
                                            <img src="{{ block.settings.image | image_url: width: 1000 }}">
                                        {% else %}
                                            {{ 'hero-apparel-1' | placeholder_svg_tag: 'placeholder-svg'}}
                                        {% endif %}
                                    </div>
                                </div>

                                <div class="vertical-scroll-media-text-item grid-item">
                                    <div class="vertical-scroll-media2
                                        vertical-scroll-media2--{{ block.settings.height }}">
                                        {% if block.settings.image2 != blank %}
                                            <img src="{{ block.settings.image2 | image_url: width: 1000 }}">
                                        {% else %}
                                            {{ 'hero-apparel-1' | placeholder_svg_tag: 'placeholder-svg'}}
                                        {% endif %}
                                    </div>

                                    <div class="vertical-scroll-text 
                                        vertical-scroll-text--desktop-{{ block.settings.desktop_content_alignment }} 
                                        vertical-scroll-text--mobile-{{ block.settings.mobile_content_alignment }}
                                        vertical-scroll-text--{{ block.settings.desktop_content_position }}
                                        ">
                                        {% if block.settings.heading %}
                                            <h2 class="vertical-scroll__heading {{ block.settings.heading_size }}">
                                                {{ block.settings.heading }}
                                            </h2>
                                        {% endif %}
                                        {% if block.settings.text %}
                                            <div class="vertical-scroll__text {{ block.settings.text_style }}">
                                                {{ block.settings.text }}
                                            </div>
                                        {% endif %}
                                        {% if block.settings.button_label %}
                                            <a {% if block.settings.button_link == blank %}
                                                    role="link" aria-disabled="true"
                                                {% else %}
                                                    href="{{ block.settings.button_link }}"
                                                {% endif %} 
                                                    class="link"
                                            >
                                                {{ block.settings.button_label }}
                                            </a>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>

  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <script>
    var swiper = new Swiper(".MySwiper", {
  direction: "vertical",
  mousewheel: true,
});

document.querySelectorAll('.swiper-slide').forEach(slide => {
  const textContainer = slide.querySelector('.vertical-scroll-text');

  if (!textContainer) return;

  textContainer.addEventListener('wheel', function(e) {
    const delta = e.deltaY;
    const scrollTop = this.scrollTop;
    const scrollHeight = this.scrollHeight;
    const offsetHeight = this.offsetHeight;

    const isScrollable = scrollHeight > offsetHeight;
    const atTop = scrollTop === 0;
    const atBottom = scrollTop + offsetHeight >= scrollHeight - 1;

    if (!isScrollable) {
      return;
    }

    if ((delta < 0 && atTop) || (delta > 0 && atBottom)) {
      return;
    }

    e.stopPropagation();
  });
});


  </script>


{% schema %}
{
    "name": "Vertical Scroll",
    "tag": "section",
    "class": "vertical-scroll-section",
    "settings": [
        {
            "type": "color_scheme",
            "id": "color_scheme",
            "label": "Color",
            "default": "scheme_1"
        },
        {
            "type": "header",
            "content": "Padding"
        },
        {
            "type": "range",
            "id": "padding_top",
            "min": 0,
            "max": 100,
            "step": 4,
            "label": "Padding Top",
            "default": 36
        },
        {
            "type": "range",
            "id": "padding_bottom",
            "min": 0,
            "max": 100,
            "step": 4,
            "label": "Padding Bottom",
            "default": 36
        }
    ],
    "blocks": [
        {
            "type": "slide",
            "name": "slide",
            "settings": [
                {
                    "type": "image_picker",
                    "id": "image",
                    "label": "Image 1"
                },
                {
                    "type": "image_picker",
                    "id": "image2",
                    "label": "Image 2"
                },
                {
                    "type": "select",
                    "id": "height",
                    "options": [
                        {"label": "Adapt to image", "value": "adapt"},
                        {"label": "Small", "value": "small"},
                        {"label": "Medium", "value": "medium"},
                        {"label": "Large", "value": "large"}
                    ],
                    "label": "Height",
                    "default": "adapt"
                },
                {
                    "type": "inline_richtext",
                    "id": "heading",
                    "label": "Heading",
                    "default": "Heading"
                },
                {
                    "type": "select",
                    "id": "heading_size",
                    "options": [
                        {"label": "Small", "value": "h2"},
                        {"label": "Medium", "value": "h1"},
                        {"label": "Large", "value": "h0"},
                        {"label": "Extra large", "value": "hxl"},
                        {"label": "Extra extra large", "value": "hxxl"}
                    ],
                    "label": "Heading size",
                    "default": "h1"
                },
                {
                    "type": "richtext",
                    "id": "text",
                    "label": "Text",
                    "default": "<p>Add text here.</p>"
                },
                {
                    "type": "select",
                    "id": "text_style",
                    "options": [
                        {"label": "Body", "value": "body"},
                        {"label": "Subtitile", "value": "subtitle"}
                    ],
                    "label": "Style",
                    "default": "body"
                },
                {
                    "type": "text",
                    "id": "button_label",
                    "label": "Label",
                    "default": "Link"
                },
                {
                    "type": "url",
                    "id": "button_link",
                    "label": "Button Link"
                },
                {
                    "type": "header",
                    "content": "Layout"
                },
                {
                    "type": "select",
                    "id": "desktop_content_position",
                    "options": [
                        {"label": "Top", "value": "top"},
                        {"label": "Middle", "value": "middle"},
                        {"label": "Bottom", "value": "bottom"}
                    ],
                    "label": "Position",
                    "default": "top"
                },
                {
                    "type": "select",
                    "id": "desktop_content_alignment",
                    "options": [
                        {"label": "Left", "value": "left"},
                        {"label": "Center", "value": "center"},
                        {"label": "Right", "value": "right"}
                    ],
                    "label": "Alignment",
                    "default": "left"
                },
                {
                    "type": "select",
                    "id": "mobile_content_alignment",
                    "options": [
                        {"label": "Left", "value": "left"},
                        {"label": "Center", "value": "center"},
                        {"label": "Right", "value": "right"}
                    ],
                    "label": "Alignment",
                    "default": "left"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Vertical Scroll",
            "blocks": [
                {"type": "slide"},
                {"type": "slide"}
            ]
        }
    ]
}
{% endschema %}








{% comment %} <html>
    <head>
        <title>Website Vertical Scrolling with jQuery</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="description" content="Website Vertical Scrolling with jQuery" />
        <meta name="keywords" content="jquery, vertical, scrolling, scroll, smooth"/>
        <link rel="stylesheet" href="css/style_vertical.css" type="text/css" media="screen"/>
    </head>
    <style>
        a{
            color:#fff;
            text-decoration:none;
        }
        a:hover{
            text-decoration:underline;
        }
        span.reference{
            position:fixed;
            left:10px;
            bottom:10px;
            font-size:13px;
            font-weight:bold;
        }
        span.reference a{
            color:#fff;
            text-shadow:1px 1px 1px #000;
            padding-right:20px;
        }
        span.reference a:hover{
            color:#ddd;
            text-decoration:none;
        }

    </style>
    <body>
        <div>
            <span class="reference">
                <a href="https://tympanus.net/codrops/2010/06/02/smooth-vertical-or-horizontal-page-scrolling-with-jquery/">© Codrops</a>
                <a href="index.html">Horizontal Demo</a>
            </span>
        </div>

        <div class="section black" id="section1">
            <h2>Section 1</h2>
            <p>
                MY Spectre around me night and day
                Like a wild beast guards my way;
                My Emanation far within
                Weeps incessantly for my sin.
            </p>
            <ul class="nav">
                <li>1</li>
                <li><a href="#section2">2</a></li>
                <li><a href="#section3">3</a></li>
            </ul>
        </div>
        <div class="section white" id="section2">
            <h2>Section 2</h2>
            <p>
                ‘A fathomless and boundless deep,
                There we wander, there we weep;
                On the hungry craving wind
                My Spectre follows thee behind.

            </p>
            <ul class="nav">
                <li><a href="#section1">1</a></li>
                <li>2</li>
                <li><a href="#section3">3</a></li>
            </ul>
        </div>
        <div class="section black" id="section3">
            <h2>Section 3</h2>
            <p>
                ‘He scents thy footsteps in the snow
                Wheresoever thou dost go,
                Thro’ the wintry hail and rain.
                When wilt thou return again?

            </p>
            <ul class="nav">
                <li><a href="#section1">1</a></li>
                <li><a href="#section2">2</a></li>
                <li>3</li>
            </ul>
        </div>

        <!-- The JavaScript -->
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>		
        <script type="text/javascript" src="jquery.easing.1.3.js"></script>
        <script type="text/javascript">
            $(function() {
                $('ul.nav a').bind('click',function(event){
                    var $anchor = $(this);
                    
                    $('html, body').stop().animate({
                        scrollTop: $($anchor.attr('href')).offset().top
                    }, 1500,'easeInOutExpo');
                    /*
                    if you don't want to use the easing effects:
                    $('html, body').stop().animate({
                        scrollTop: $($anchor.attr('href')).offset().top
                    }, 1000);
                    */
                    event.preventDefault();
                });
            });
        </script>
    </body>
</html> {% endcomment %}