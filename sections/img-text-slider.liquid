{% comment %} {{ 'img-text-slider.css' | asset_url | stylesheet_tag }}

{%- style -%}
  .img-text-slider-section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
  }

  @media screen and (min-width: 750px) {
    .img-text-slider-section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

{%- liquid
  if section.settings.color_scheme == section.settings.section_color_scheme and section.settings.content_layout == 'no-overlap'
    assign remove_color_classes = true
  endif
-%}

<div class="img-text-slider-section-{{ section.id }}-padding gradient color-{{ section.settings.section_color_scheme }}">
  <div class="page-width">
    <div class="img-text-slider img-text-slider--{{ section.settings.content_layout }}">
      <div class="img-text-slider__grid grid grid--gapless grid--1-col grid--{% if section.settings.desktop_image_width == 'small' %}custom-small{% elsif section.settings.desktop_image_width == 'medium' %}2-col-tablet{% else %}custom-large{% endif %} {% if section.settings.layout == 'text_first' %} img-text-slider__grid--reverse {% endif %} {% if section.settings.desktop_image_width == 'large' and section.settings.layout == 'text_first' %} large--reverse {% endif %} {% if section.settings.desktop_image_width == 'small' and section.settings.layout == 'text_first' %} small--reverse {% endif %}">
        <div class="img-text-slider__media-item img-text-slider__media-item--{{ section.settings.desktop_image_width }} grid__item">
          <div class="img-text-slider__media img-text-slider__media--{{ section.settings.height }} global-media-sections{% unless remove_color_classes %} gradient color-{{ section.settings.color_scheme }} {% else %} backgroung-transparent {% endunless %}">
            {% if section.settings.image != blank %}
              <img src="{{ section.settings.image | image_url: width: 1000 }}">  
            {% else %}
              {{ 'hero-apparel-1' | placeholder_svg_tag: 'placeholder-svg' }}
            {% endif %}
          </div>
        </div>

            <div class="img-text-slider__text-item grid__item">
                <div class="img-text-slider__content img-text-slider__content--{{ section.settings.desktop_content_position }} img-text-slider__content--desktop-{{ section.settings.desktop_content_alignment }} img-text-slider__content--mobile-{{ section.settings.mobile_content_alignment }} content-container{% unless remove_color_classes %} gradient color-{{ section.settings.color_scheme }} {% else %} background-transparent {% endunless %}">
                    {% for block in section.blocks %}
                    {% case block.type %}
                    {% when 'image' %}
                        {% for block in section.blocks %}
                            {% if block.settings.image_2 != blank %}
                                <div class="img-text-slider__image">
                                    <img src="{{ block.settings.image_2 | image_url: width: 1000 }}">  
                                </div>          
                            {% endif %}
                        {% endfor %}
                    {% when 'heading' %}
                        <h2 class="img-text-slider__heading {{ block.settings.heading_size }}">
                            {{ block.settings.heading }}
                        </h2>
                    {% when 'caption' %}
                        <p class="img-text-slider__text--caption {{ block.settings.text_style }} {{ block.settings.text_style }}--{{ block.settings.text_size }}">
                            {{ block.settings.caption}}
                        </p>
                    {% when 'text' %}
                        <div class="img-text-slider__text {{ block.settings.text_style }}" >
                            {{ block.settings.text }}
                        </div>
                    {% when 'button' %}
                        {% if block.settings.button_label != blank %}
                            <a {% if block.settings.button_link == blank %}
                                role="link" aria-disabled="true"
                                {% else %}
                                href="{{ block.settings.button_link }}"
                                {% endif %} 
                                class="button {% if block.settings.button_style_secondary %} button--secondary {% else %} button--primary {% endif %}"
                            >
                                {{ block.settings.button_label }}
                            </a>
                        {% endif %}
                    {% endcase %}
                    {% endfor %}
                </div>
            </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
    "name": "Image With Text Slider",
    "tag": "section",
    "class": "img-text-slider-section",
    "settings": [
        {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
        },
        {
            "type": "select",
            "id": "height",
            "options": [
                {"label": "Adapt to image", "value": "adapt"},
                {"label": "Small", "value": "small"},
                {"label": "Medium", "value": "medium"},
                {"label": "Large", "value": "large"}
            ],
            "label": "Height",
            "default": "adapt"
        },
        {
            "type": "select",
            "id": "desktop_image_width",
            "options": [
                {"label": "Small", "value": "small"},
                {"label": "Medium", "value": "medium"},
                {"label": "Large", "value": "large"}
            ],
            "label": "Width",
            "default": "medium"
        },
        {
            "type": "select",
            "id": "layout",
            "options": [
                {"label": "Left", "value": "image_first"},
                {"label": "Right", "value": "text_first"}
            ],
            "label": "Position",
            "default": "image_first"
        },
        {
            "type": "header",
            "content": "Content"
        },
        {
            "type": "select",
            "id": "content_layout",
            "options": [
                {"label": "No Overlap", "value": "no_overlap"},
                {"label": "Overlap", "value": "overlap"}
            ],
            "label": "Layout",
            "default": "no_overlap"
        },
        {
            "type": "select",
            "id": "desktop_content_position",
            "options": [
                {"label": "Top", "value": "top"},
                {"label": "Middle", "value": "middle"},
                {"label": "Bottom", "value": "bottom"}
            ],
            "label": "Position",
            "default": "top"
        },
        {
            "type": "select",
            "id": "desktop_content_alignment",
            "options": [
                {"label": "Left", "value": "left"},
                {"label": "Center", "value": "center"},
                {"label": "Right", "value": "right"}
            ],
            "label": "Alignment",
            "default": "left"
        },
        {
            "type": "select",
            "id": "mobile_content_alignment",
            "options": [
                {"label": "Left", "value": "left"},
                {"label": "Center", "value": "center"},
                {"label": "Right", "value": "right"}
            ],
            "label": "Mobile Alignment",
            "default": "left"
        },
        {
            "type": "header",
            "content": "Colors"
        },
        {
            "type": "color_scheme",
            "id": "section_color_scheme",
            "label": "Color scheme",
            "default": "scheme_1"
        },
        {
            "type": "color_scheme",
            "id": "color_scheme",
            "label": "Container color scheme",
            "default": "scheme_1"
        },
        {
            "type": "header",
            "content": "Padding"
        },
        {
            "type": "range",
            "id": "padding_top",
            "min": 0,
            "max": 100,
            "unit": "px",
            "step": 4,
            "label": "Top",
            "default": 36
        },
        {
            "type": "range",
            "id": "padding_bottom",
            "min": 0,
            "max": 100,
            "unit": "px",
            "step": 4,
            "label": "Bottom",
            "default": 36
        }
    ],
    "blocks": [
        {
            "type": "image",
            "name": "Image",
            "limit": 1,
            "settings": [
                {
                    "type": "image_picker",
                    "id": "image_2",
                    "label": "Image"
                }
            ]
        },
        {
            "type": "heading",
            "name": "Heading",
            "limit": 1,
            "settings": [
                {
                "type": "inline_richtext",
                "id": "heading",
                "label": "Heading",
                "default": "Image Text Slider"
                },
                {
                "type": "select",
                "id": "heading_size",
                "options": [
                    {"label": "Small", "value": "h2"},
                    {"label": "Medium", "value": "h1"},
                    {"label": "Large", "value": "h0"},
                    {"label": "Extra large", "value": "hxl"},
                    {"label": "Extra exra large", "value": "hxxl"}
                ],
                "default": "h1",
                "label": "Heading Size"
                }
            ]
        },
        {
            "type": "caption",
            "name": "Caption",
            "limit": 1,
            "settings": [
                {
                "type": "text",
                "id": "caption",
                "label": "Caption",
                "default": "Add Caption"
                },
                {
                "type": "select",
                "id": "text_style",
                "options": [
                    {"label": "Subtitle", "value": "subtitle"},
                    {"label": "Uppar Case", "value": "caption-with-letter-spacing"}
                ],
                "label": "Style",
                "default": "caption-with-letter-spacing"
                },
                {
                "type": "select",
                "id": "text_size",
                "options": [
                    {"label": "Small", "value": "small"},
                    {"label": "Medium", "value": "medium"},
                    {"label": "Large", "value": "large"}
                ],
                "label": "Caption Size",
                "default" : "medium"
                }
            ]
        },
        {
            "type": "text",
            "name": "Text",
            "limit": 1,
            "settings": [
                {
                "type": "richtext",
                "id": "text",
                "label": "Text",
                "default": "<p>Add Text here.</p>"
                },
                {
                "type": "select",
                "id": "text_style",
                "options": [
                    {"label": "Body", "value": "body"},
                    {"label": "Subtitle", "value": "subtitle"}
                ],
                "label": "Style",
                "default": "body"
                }
            ]
        },
        {
            "type": "button",
            "name": "Button",
            "limit": 1,
            "settings": [
                {
                "type": "text",
                "id": "button_label",
                "label": "Button Label",
                "default": "Button"
                },
                {
                "type": "url",
                "id": "button_link",
                "label": "Button Link"
                },
                {
                "type": "checkbox",
                "id": "button_style_secondary",
                "label": "Outline Button",
                "default": false
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Image With Text Slider"
        }
    ]   
}
{% endschema %} {% endcomment %}




{{ 'img-text-slider.css' | asset_url | stylesheet_tag }}

<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">

{%- style -%}
  .img-text-slider-section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
  }

  @media screen and (min-width: 750px) {
    .img-text-slider-section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

<div class="swiper-container swiper-container-{{ section.id }}">
    <div class="swiper-wrapper">
        {% for block in section.blocks %}
        {%- liquid
        if block.settings.color_scheme == block.settings.section_color_scheme
            assign remove_color_classes = true
        endif
        -%}

        <div class="swiper-slide">
            <div class="img-text-slider-section-{{ section.id }}-padding gradient color-{{ block.settings.section_color_scheme }}">
                <div class="page-width">
                    <div class="img-text-slider img-text-slider--{{ block.settings.content_layout }}">
                        <div class="img-text-slider__grid grid grid--gapless grid--1-col grid--{% if block.settings.desktop_image_width == 'small' %}custom-small{% elsif block.settings.desktop_image_width == 'medium' %}2-col-tablet{% else %}custom-large{% endif %} {% if block.settings.layout == 'text_first' %} img-text-slider__grid--reverse {% endif %} {% if block.settings.desktop_image_width == 'large' and block.settings.layout == 'text_first' %} large--reverse {% endif %} {% if block.settings.desktop_image_width == 'small' and block.settings.layout == 'text_first' %} small--reverse {% endif %}">
                            <div class="img-text-slider__media-item img-text-slider__media-item--{{ block.settings.desktop_image_width }} grid__item">
                                <div class="img-text-slider__media img-text-slider__media--{{ block.settings.height }} global-media-sections{% unless remove_color_classes %} gradient color-{{ block.settings.color_scheme }} {% else %} background-transparent {% endunless %}">
                                    {% if block.settings.image != blank %}
                                    <img src="{{ block.settings.image | image_url: width: 1000 }}">  
                                    {% else %}
                                    {{ 'hero-apparel-1' | placeholder_svg_tag: 'placeholder-svg' }}
                                    {% endif %}
                                </div>
                            </div>

                            <div class="img-text-slider__text-item grid__item">
                                <div class="img-text-slider__content img-text-slider__content--{{ block.settings.desktop_content_position }} img-text-slider__content--desktop-{{ block.settings.desktop_content_alignment }} img-text-slider__content--mobile-{{ block.settings.mobile_content_alignment }} content-container{% unless remove_color_classes %} gradient color-{{ block.settings.color_scheme }} {% else %} background-transparent {% endunless %}">
                                    {% if block.settings.image_2 != blank %}
                                        <div class="img-text-slider__image">
                                            <img src="{{ block.settings.image_2 | image_url: width: 1000 }}">  
                                        </div>          
                                    {% endif %}
                                    {% if block.settings.heading != blank %}
                                        <h2 class="img-text-slider__heading {{ block.settings.heading_size }}">
                                            {{ block.settings.heading }}
                                        </h2>
                                    {% endif %}
                                    {% if block.settings.text != blank %}
                                        <div class="img-text-slider__text {{ block.settings.text_style }}" >
                                            {{ block.settings.text }}
                                        </div>
                                    {% endif %}
                                    {% if block.settings.button_label != blank %}
                                        <a {% if block.settings.button_link == blank %}
                                            role="link" aria-disabled="true"
                                            {% else %}
                                                href="{{ block.settings.button_link }}"
                                            {% endif %} 
                                                class="button {% if block.settings.button_style_secondary %} button--secondary {% else %} button--primary {% endif %}"
                                        >
                                            {{ block.settings.button_label }}
                                        </a>
                                    {% endif %}                  
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>	

    <div class="swiper-pagination"> {{ section.settings.slider_visual }} </div>		
    <div class="swiper-button-next"></div>		
    <div class="swiper-button-prev"></div>
</div>

<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

<script>
	var swiper = new Swiper('.swiper-container', {
      pagination: {
        el: '.swiper-pagination',
        type: 'fraction',
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
    });
</script>

{% schema %}
{
    "name": "Image With Text Slider",
    "tag": "section",
    "class": "img-text-slider-section",
    "settings": [      
        {
            "type": "header",
            "content": "Padding"
        },
        {
            "type": "select",
            "id": "slider_visual",
            "options": [
                {"label": "Dots", "value": "dots"},
                {"label": "Counter", "value": "counters"},
                {"label": "Number", "value": "numbers"}
            ],
            "label": "Pagination",
            "default": "counters"
        },
        {
            "type": "range",
            "id": "padding_top",
            "min": 0,
            "max": 100,
            "unit": "px",
            "step": 4,
            "label": "Top",
            "default": 36
        },
        {
            "type": "range",
            "id": "padding_bottom",
            "min": 0,
            "max": 100,
            "unit": "px",
            "step": 4,
            "label": "Bottom",
            "default": 36
        }      
    ],
    "blocks": [
        {
            "type": "slide",
            "name": "Slide",
            "limit": 5,
            "settings": [
                {
                    "type": "image_picker",
                    "id": "image",
                    "label": "Image"
                },
                {
                    "type": "select",
                    "id": "height",
                    "options": [
                        {"label": "Adapt to image", "value": "adapt"},
                        {"label": "Small", "value": "small"},
                        {"label": "Medium", "value": "medium"},
                        {"label": "Large", "value": "large"}
                    ],
                    "label": "Height",
                    "default": "adapt"
                },
                {
                    "type": "select",
                    "id": "desktop_image_width",
                    "options": [
                        {"label": "Small", "value": "small"},
                        {"label": "Medium", "value": "medium"},
                        {"label": "Large", "value": "large"}
                    ],
                    "label": "Width",
                    "default": "medium"
                },
                {
                    "type": "select",
                    "id": "layout",
                    "options": [
                        {"label": "Left", "value": "image_first"},
                        {"label": "Right", "value": "text_first"}
                    ],
                    "label": "Position",
                    "default": "image_first"
                },
                {
                    "type": "image_picker",
                    "id": "image_2",
                    "label": "Image"
                },
                {
                    "type": "header",
                    "content": "Text"
                },
                {
                    "type": "inline_richtext",
                    "id": "heading",
                    "label": "Heading",
                    "default": "Image Text Slider"
                },
                {
                    "type": "select",
                    "id": "heading_size",
                    "options": [
                        {"label": "Small", "value": "h2"},
                        {"label": "Medium", "value": "h1"},
                        {"label": "Large", "value": "h0"},
                        {"label": "Extra large", "value": "hxl"},
                        {"label": "Extra exra large", "value": "hxxl"}
                    ],
                    "default": "h1",
                    "label": "Heading Size"
                },
                {
                    "type": "richtext",
                    "id": "text",
                    "label": "Text",
                    "default": "<p>Add Text here.</p>"
                },
                {
                    "type": "select",
                    "id": "text_style",
                    "options": [
                        {"label": "Body", "value": "body"},
                        {"label": "Subtitle", "value": "subtitle"}
                    ],
                    "label": "Style",
                    "default": "body"
                },
                {
                    "type": "text",
                    "id": "button_label",
                    "label": "Button",
                    "default": "Button"
                },
                {
                    "type": "url",
                    "id": "button_link",
                    "label": "Button Link"
                },
                {
                    "type": "checkbox",
                    "id": "button_style_secondary",
                    "label": "Outline Button",
                    "default": false
                },
                {
                    "type": "header",
                    "content": "Content"
                },
                {
                    "type": "select",
                    "id": "desktop_content_position",
                    "options": [
                        {"label": "Top", "value": "top"},
                        {"label": "Middle", "value": "middle"},
                        {"label": "Bottom", "value": "bottom"}
                    ],
                    "label": "Position",
                    "default": "top"
                },
                {
                    "type": "select",
                    "id": "desktop_content_alignment",
                    "options": [
                        {"label": "Left", "value": "left"},
                        {"label": "Center", "value": "center"},
                        {"label": "Right", "value": "right"}
                    ],
                    "label": "Alignment",
                    "default": "left"
                },
                {
                    "type": "select",
                    "id": "mobile_content_alignment",
                    "options": [
                        {"label": "Left", "value": "left"},
                        {"label": "Center", "value": "center"},
                        {"label": "Right", "value": "right"}
                    ],
                    "label": "Mobile Alignment",
                    "default": "left"
                },
                {
                    "type": "header",
                    "content": "Colors"
                },
                {
                    "type": "color_scheme",
                    "id": "section_color_scheme",
                    "label": "Color scheme",
                    "default": "scheme_1"
                },
                {
                    "type": "color_scheme",
                    "id": "color_scheme",
                    "label": "Container color scheme",
                    "default": "scheme_1"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Image With Text Slider",
            "blocks": [
                {"type": "slide"}
            ]
        }
    ]   
}
{% endschema %}